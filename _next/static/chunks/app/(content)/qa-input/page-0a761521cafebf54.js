(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{9037:function(e,l,a){Promise.resolve().then(a.bind(a,8253))},8253:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return h}});var t=a(9268),r=a(870),d=a(898),s=a(6356);function n(e){let{data:l,preview:a=!1}=e,r=l.options.map(e=>e.value),d=r.join("").length<24;return(0,t.jsxs)("section",{className:"mb-4",children:[(0,t.jsx)("p",{children:"".concat(l.seq,". ").concat(l.content)}),!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("ul",{className:(0,s.cn)({"flex gap-6":d}),children:l.options.map(e=>(0,t.jsxs)("li",{style:{listStyle:"none"},children:[e.label,". ",e.value]},e.label))}),(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{children:"答案"}),l.answer,l.solution&&(0,t.jsx)("blockquote",{dangerouslySetInnerHTML:{__html:l.solution}})]})]})]})}var i=a(9743),o=a.n(i),u=a(6006);let c=(e,l)=>{let[a,t]=(0,u.useState)(l),[r,d]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{o().getItem(e).then(e=>{d(!1),e&&t(e)})},[]),{data:a,pending:r,mutate:function(l){t(l),o().setItem(e,l)}}},m=[{label:"A",value:""},{label:"B",value:""},{label:"C",value:""},{label:"D",value:""}],p={seq:"0",id:Date.now(),content:"",type:"single",solution:"",answer:"A",options:["A","B","C","D"].map(e=>({label:e,value:""}))};function h(){let[,e]=(0,u.useState)(0),{data:l}=c("collectionList",[{id:new Date().toLocaleDateString()}]),{data:a,mutate:s}=c(new Date().toLocaleDateString(),[]),[i,o]=(0,u.useState)(p);(0,u.useEffect)(()=>{let e=(null==a?void 0:a.length)?Math.max(...null==a?void 0:a.map(e=>Number(e.seq))):-1;o(l=>({...l,seq:String(e+1)}))},[null==a?void 0:a.length]);let h=(null==i?void 0:i.options)||m,b=e=>{let l=null==a?void 0:a.findIndex(l=>l.id===e),t=void 0!=l&&-1!=l;if(t){if(!a)throw Error("");s(null==a?void 0:a.filter((e,a)=>a!=l))}},x=()=>{o(p)},v=e=>{let l;let a=e.clipboardData.getData("text"),t=/([A-D])([,:.、])(.*)/g,r=[];for(;null!==(l=t.exec(a));){let e={label:l[1],value:l[3]};r.push(e)}o(e=>({...e,options:r})),e.preventDefault()};return(0,t.jsx)("div",{className:"py-4 px-12",children:(0,t.jsxs)("form",{method:"POST",className:"grid grid-cols-12 gap-6",onSubmit:e=>{e.preventDefault();let l=e.target,t=new FormData(l),r=Object.fromEntries(t.entries());for(let e in r.answer=t.getAll("answer").join(""),r)if(e.startsWith("option-")){let l=r[e],a=Number(e.replace("option-",""));h[a]={...h[a],value:l}}let d=null==a?void 0:a.findIndex(e=>e.id===i.id),n=void 0!=d&&-1!=d,o={id:n?i.id:Date.now(),...r,options:h};if(n){if(!a)throw Error("错误");let e=[...a];e[d]=o,s(e)}else s(a?a.concat(o):[o]);x()},children:[(0,t.jsx)("div",{className:"ltablet:col-span-6 col-span-12 lg:col-span-6",children:(0,t.jsx)("div",{className:"border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-md",children:(0,t.jsxs)("div",{className:"ltablet:col-span-9 col-span-12 lg:col-span-9",children:[(0,t.jsxs)("fieldset",{className:"relative p-4 md:p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"font-heading text-base font-medium leading-none",children:"题目"}),(0,t.jsx)("p",{className:"font-sans text-xs font-normal leading-normal text-muted-400",children:"录入题目信息"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,t.jsx)("div",{className:"col-span-12 md:col-span-6",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(r.Z,{label:"题号",type:"number",id:"seq",defaultValue:null==i?void 0:i.seq},null==i?void 0:i.id)})}),(0,t.jsx)("div",{className:"col-span-12 md:col-span-6",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.Z,{id:"type",name:"type",label:"类型",data:[{value:"single",label:"单选"}],defaultValue:"single"})})}),(0,t.jsx)("div",{className:"col-span-12",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{htmlFor:"content",className:"nui-label pb-1 text-[0.825rem]",children:"问题（文本）"}),(0,t.jsx)("div",{className:"group/nui-textarea relative flex flex-col",children:(0,t.jsx)("textarea",{id:"content",name:"content",className:"nui-focus border-muted-300 placeholder:text-muted-300 focus:border-muted-300 focus:shadow-muted-300/50 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 dark:focus:shadow-muted-800/50 peer w-full border bg-white font-sans transition-all duration-300 focus:shadow-lg disabled:cursor-not-allowed disabled:opacity-75 min-h-[2.5rem] text-sm leading-[1.6] rounded resize-none p-2",placeholder:"输入题目文本",rows:3,defaultValue:(null==i?void 0:i.content)||""},null==i?void 0:i.id)})]})})]})]}),(0,t.jsx)("fieldset",{className:"p-4 md:p-8 bg-muted-50 dark:bg-muted-800/70 border-muted-200 dark:border-muted-700 border-t",children:(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-x-8 gap-y-4",children:[h.map((e,l)=>(0,t.jsx)("div",{className:"col-span-6",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)(r.Z,{onPaste:v,defaultValue:e.value,label:e.label,labelClassName:"w-fit",inputContainerClassName:"w-full flex-1",type:"text",id:"option-"+l},(null==i?void 0:i.id)+e.label)})},e.label)),(0,t.jsx)("div",{className:"col-span-12",children:(0,t.jsxs)("div",{className:"bg-muted-100 dark:bg-muted-700/70 space-y-2 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"w-48 sm:col-span-4",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.Z,{className:"h-24",multiple:!0,label:"答案",id:"answer",name:"answer",defaultValue:null==i?void 0:i.options.filter(e=>i.answer.includes(e.label)).map(e=>e.label),data:h.map(e=>({value:e.label,label:e.label}))},null==i?void 0:i.id)})}),(0,t.jsxs)("div",{className:"col-span-12 relative",children:[(0,t.jsx)("label",{htmlFor:"solution",className:"nui-label pb-1 text-[0.825rem]",children:"解答"}),(0,t.jsx)("div",{className:"group/nui-textarea relative flex flex-col",children:(0,t.jsx)("textarea",{id:"solution",name:"solution",className:"nui-focus border-muted-300 placeholder:text-muted-300 focus:border-muted-300 focus:shadow-muted-300/50 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 dark:focus:shadow-muted-800/50 peer w-full border bg-white font-sans transition-all duration-300 focus:shadow-lg disabled:cursor-not-allowed disabled:opacity-75 min-h-[2.5rem] text-sm leading-[1.6] rounded p-2",placeholder:"Ex: General Orthopedic Surgery, Foot & Ankle Surgery",rows:4,defaultValue:null==i?void 0:i.solution},null==i?void 0:i.id)})]})]})})]})}),(0,t.jsx)("div",{className:"p-4 text-right md:col-span-5",children:(0,t.jsxs)("div",{className:" inline-flex w-full items-center justify-end gap-2 sm:w-auto",children:[(0,t.jsx)("button",{"data-v-71bb21a6":!0,type:"button",className:"is-button rounded is-button-default !h-12 w-full sm:w-40",onClick:e=>{e.preventDefault(),x()},children:"取消"}),(0,t.jsx)("button",{type:"submit",className:"is-button rounded bg-primary-500 dark:bg-primary-500 hover:enabled:bg-primary-400 dark:hover:enabled:bg-primary-400 text-white hover:enabled:shadow-lg hover:enabled:shadow-primary-500/50 dark:hover:enabled:shadow-primary-800/20 focus-visible:outline-primary-400/70 focus-within:outline-primary-400/70 focus-visible:bg-primary-500 active:enabled:bg-primary-500 dark:focus-visible:outline-primary-400 dark:focus-within:outline-primary-400 dark:focus-visible:bg-primary-500 dark:active:enabled:bg-primary-500 !h-12 w-full sm:w-40",children:"确定"})]})}),(0,t.jsx)("textarea",{onPaste:e=>{let l=e.target;s(JSON.parse(l.value))}})]})})}),(0,t.jsxs)("div",{className:"ltablet:col-span-6 col-span-12 lg:col-span-6",children:[(0,t.jsx)("div",{className:"prose space-y-4 border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-md ptablet:p-8 p-6 lg:p-8",children:null==a?void 0:a.map((e,l,a)=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n,{data:e,preview:!0}),(0,t.jsxs)("div",{className:"absolute bottom-4 right-4 space-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:l=>{l.preventDefault(),o(e)},children:"编辑"}),(0,t.jsx)("button",{type:"button",onClick:l=>{l.preventDefault(),b(e.id)},children:"删除"})]})]}),l!==a.length-1&&(0,t.jsx)("hr",{})]},l))}),(0,t.jsx)("div",{className:"prose space-y-4 border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-md ptablet:p-8 p-6 lg:p-8",children:(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),function(e){let l=document.createElement("textarea");l.value=e,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)}(JSON.stringify(a))},children:"复制"})})]})]})})}},870:function(e,l,a){"use strict";var t=a(9268),r=a(6356);l.Z=e=>{let{label:l,labelClassName:a,inputContainerClassName:d,id:s,...n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{className:(0,r.cn)("nui-label w-full pb-1 text-[0.825rem]",a),htmlFor:"num",children:l}),(0,t.jsx)("div",{className:(0,r.cn)("group/nui-input relative",d),children:(0,t.jsx)("input",{id:s,name:s,placeholder:"请输入标签名称",className:(0,r.cn)("invalid:border-danger-300 invalid:focus:outline-danger-300  invalid:focus:placeholder-shown:outline-muted-300 pl-10 nui-focus border-muted-300 text-muted-600 placeholder:text-muted-300 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-500 dark:focus:border-muted-700 peer w-full border bg-white font-sans transition-all duration-300 disabled:cursor-not-allowed disabled:opacity-75 px-2 h-10 py-2 text-sm leading-5 pe-4 ps-9 rounded","invalid:placeholder-shown:border-muted-300"),...n})})]})}},898:function(e,l,a){"use strict";var t=a(9268),r=a(6356);a(6006),l.Z=e=>{let{defaultValue:l,id:a,data:d,label:s,labelClassName:n,inputContainerClassName:i,className:o,...u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{className:(0,r.cn)("nui-label w-full pb-1 text-[0.825rem]",n),htmlFor:"num",children:s}),(0,t.jsxs)("div",{className:(0,r.cn)("group/nui-input relative",i),children:[(0,t.jsx)("select",{defaultValue:l,id:a,name:a,className:(0,r.cn)("nui-focus border-muted-300 text-muted-600 placeholder:text-muted-300 focus:border-muted-300 focus:shadow-muted-300/50 dark:border-muted-700 dark:bg-muted-900/75 dark:text-muted-200 dark:placeholder:text-muted-600 dark:focus:border-muted-700 dark:focus:shadow-muted-800/50 peer w-full cursor-pointer appearance-none border bg-white font-sans focus:shadow-lg px-2 pe-9 h-10 py-2 text-sm leading-5 pe-4 ps-9 rounded pe-4 pl-10 ",o),...u,children:d.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("div",{className:"text-muted-400 group-focus-within/nui-select:text-primary-500 absolute start-0 top-0 flex items-center justify-center transition-colors duration-300 peer-disabled:cursor-not-allowed peer-disabled:opacity-75 h-10 w-10",children:(0,t.jsx)("svg",{"data-v-cd102a71":!0,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"icon h-[1.15rem] w-[1.15rem]",width:"1em",height:"1em",viewBox:"0 0 256 256",children:(0,t.jsxs)("g",{fill:"currentColor",children:[(0,t.jsx)("path",{d:"M200 56v55.1c0 39.7-31.75 72.6-71.45 72.9A72 72 0 0 1 56 112V56a8 8 0 0 1 8-8h128a8 8 0 0 1 8 8Z",opacity:".2"}),(0,t.jsx)("path",{d:"M232 64h-24v-8a16 16 0 0 0-16-16H64a16 16 0 0 0-16 16v8H24A16 16 0 0 0 8 80v16a40 40 0 0 0 40 40h3.65A80.13 80.13 0 0 0 120 191.61V216H96a8 8 0 0 0 0 16h64a8 8 0 0 0 0-16h-24v-24.42c31.94-3.23 58.44-25.64 68.08-55.58H208a40 40 0 0 0 40-40V80a16 16 0 0 0-16-16ZM48 120a24 24 0 0 1-24-24V80h24v32q0 4 .39 8Zm144-8.9c0 35.52-28.49 64.64-63.51 64.9H128a64 64 0 0 1-64-64V56h128ZM232 96a24 24 0 0 1-24 24h-.5a81.81 81.81 0 0 0 .5-8.9V80h24Z"})]})})}),(0,t.jsx)("div",{className:"text-muted-400 pointer-events-none absolute end-0 top-0 flex items-center justify-center transition-transform duration-300 group-focus-within/nui-select:-rotate-180 h-10 w-10",children:(0,t.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",children:(0,t.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m6 9 6 6 6-6"})})})]})]})}},6356:function(e,l,a){"use strict";a.d(l,{cn:function(){return d}});var t=a(9791),r=a(2072);function d(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];return(0,r.m)((0,t.W)(l))}}},function(e){e.O(0,[822,743,253,769,744],function(){return e(e.s=9037)}),_N_E=e.O()}]);