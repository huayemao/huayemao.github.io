1:HL["/_next/static/css/9ea745b5ef8be27e.css",{"as":"style"}]
0:["WB-eh6r-OsB74zwuLIoP1",[[["",{"children":["(content)",{"children":["posts",{"children":[["id","15","d"],{"children":["__PAGE__?{\"id\":\"15\"}",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9ea745b5ef8be27e.css","precedence":"next"}]],["$L3",null]]]]]
4:HL["/_next/static/css/2ba16a02e4354350.css",{"as":"style"}]
5:I{"id":3772,"chunks":["185:static/chunks/app/layout-f1fd37e710dfc7f4.js"],"name":"","async":false}
6:I{"id":3211,"chunks":["272:static/chunks/webpack-8f645f1a215106c4.js","253:static/chunks/bce60fc1-69f46e850b4b2c45.js","769:static/chunks/769-1d7cbd474b9b7f2a.js"],"name":"default","async":false}
7:I{"id":5767,"chunks":["272:static/chunks/webpack-8f645f1a215106c4.js","253:static/chunks/bce60fc1-69f46e850b4b2c45.js","769:static/chunks/769-1d7cbd474b9b7f2a.js"],"name":"default","async":false}
8:I{"id":816,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","948:static/chunks/app/(content)/layout-0ca3cc09307b4c0b.js"],"name":"Nav","async":false}
2:[["$","html",null,{"children":[["$","head",null,{"children":[["$","$L5",null,{"id":"darkMode","strategy":"beforeInteractive","children":"if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n  document.documentElement.classList.add('dark')\n} else {\n  document.documentElement.classList.remove('dark')\n}"}],["$","$L5",null,{"id":"tencentShare","src":"https://qzonestyle.gtimg.cn/qzone/qzact/common/share/share.js"}]]}],["$","body",null,{"className":"bg-muted-100 transition-all duration-300 min-h-screen flex flex-col","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","div",null,{"className":"fixed inset-0 flex items-center justify-center","children":["$","div",null,{"className":"loading_container__XWcGg","children":[["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}]]}]}],"loadingStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c64ba765df0a44e2.css","precedence":"$undefined"}]],"hasLoading":true,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[[["$","$L8",null,{}],["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","div",null,{"className":"fixed inset-0 flex items-center justify-center","children":["$","div",null,{"className":"loading_container__XWcGg","children":[["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}]]}]}],"loadingStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c64ba765df0a44e2.css","precedence":"$undefined"}]],"hasLoading":true,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","posts","children",["id","15","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L9",null],"segment":"__PAGE__?{\"id\":\"15\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2ba16a02e4354350.css","precedence":"next"}]]}],"segment":["id","15","d"]},"styles":[]}],"segment":"posts"},"styles":[]}]],null],"segment":"(content)"},"styles":[]}]}]]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"yari 搜索功能 | Dors.——花野猫的数字花园"}],["$","meta","2",{"name":"description","content":"花野猫的数字花园花野猫生活、工作、学习的记录和分享"}],["$","link","3",{"rel":"author","href":"https://dors.huayemao.run"}],["$","meta","4",{"name":"author","content":"花野猫"}],["$","meta","5",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","6",{"property":"og:image","content":"https://images.pexels.com/photos/6633534/pexels-photo-6633534.jpeg?auto=compress&cs=tinysrgb&h=130"}],["$","meta","7",{"name":"twitter:card","content":"summary"}],["$","meta","8",{"name":"twitter:image","content":"https://images.pexels.com/photos/6633534/pexels-photo-6633534.jpeg?auto=compress&cs=tinysrgb&h=130"}]]
9:["$","main",null,{"className":"w-full","children":"$La"}]
b:I{"id":4712,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"Image","async":false}
c:I{"id":7477,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"","async":false}
d:I{"id":3255,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"ShareButton","async":false}
a:["$","div",null,{"children":[["$","section",null,{"className":"w-full bg-muted-100 dark:bg-muted-900","children":["$","div",null,{"className":"w-full max-w-7xl mx-auto","children":["$","div",null,{"className":"py-14 px-4 relative","children":["$","div",null,{"className":"mt-12 w-full mx-auto grid md:grid-cols-2 gap-2","children":[["$","div",null,{"className":"bg-cover bg-center w-full mb-5 md:mb-0 ptablet:px-5 ltablet:px-4","children":["$","$Lb",null,{"className":"lg:w-[512px] lg:h-[373px] mx-auto object-cover rounded-3xl","src":"https://images.pexels.com/photos/6633534/pexels-photo-6633534.jpeg?auto=compress&cs=tinysrgb&h=650&w=940","alt":"yari 搜索功能","width":512,"height":373,"quality":80,"unoptimized":true,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AGlEK6KDbiwbDgwFAADX1LbpyK6rYHGIhIYA5O/ty5aXtIJw6///O+MT53xZadoAAAAASUVORK5CYII=","placeholder":"blur"}]}],["$","div",null,{"className":"h-full flex items-center ptablet:px-4 ltablet:px-6 break-words","children":["$","div",null,{"className":"w-full max-w-lg space-x-2","children":[false,["$","h1",null,{"className":"font-heading text-muted-800 dark:text-white font-extrabold text-3xl ltablet:text-4xl lg:text-4xl","children":"yari 搜索功能"}],["$","p",null,{"className":" font-sans text-base text-muted-500 dark:text-muted-400 max-w-md my-4","style":{"wordBreak":"break-word"},"children":"MDN 的 yari 使用了 Elasticsearch 和 Kibana 来实现搜索功能。Elasticsearch 是一个开源的搜索引擎，它提供了分布式、多租户、全文搜索和分析等功能。在 MDN ..."}],["$","div",null,{"className":"flex items-center justify-start w-full relative","children":[["$","div",null,{"className":"bg-rose-50 mask flex items-center justify-center mask-blob w-12 h-12 text-[36px]","children":["$","$Lb",null,{"alt":"花野猫","src":{"src":"/_next/static/media/huayemao.ff0e6e37.svg","height":36,"width":36,"blurWidth":0,"blurHeight":0},"width":44,"height":44}]}],["$","div",null,{"className":"pl-2","children":[["$","h3",null,{"className":"   font-heading font-medium    text-muted-800   dark:text-muted-50   ","children":"花野猫"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于 2023-04-11"}]]}],["$","div",null,{"className":"block ml-auto font-sans text-sm text-muted-400","children":["$","span",null,{"children":["— ",2794," 字"]}]}]]}]]}]}]]}]}]}]}],["$","section",null,{"className":"w-full py-12 px-4 bg-white dark:bg-muted-900 overflow-hidden","children":["$","div",null,{"className":"w-full max-w-7xl mx-auto","children":["$","div",null,{"className":"w-full flex flex-col ltablet:flex-row lg:flex-row gap-y-8","children":[["$","div",null,{"className":"w-full ptablet:w-3/4 ltablet:w-2/3 lg:w-3/4 ptablet:mx-auto","children":["$","div",null,{"className":"w-full md:px-10 text-xl text-muted-800 leading-normal","children":[["$","div",null,{"className":"flex justify-between w-full mb-5","children":[["$","$Lc",null,{"href":"/","className":"flex items-center gap-2 font-sans font-medium text-base text-muted-400 hover:text-primary-500 transition-colors duration-300","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","aria-hidden":"true","role":"img","width":"1em","height":"1em","viewBox":"0 0 24 24","data-icon":"gg:arrow-long-left","className":"iconify w-5 h-5 iconify--gg","children":["$","path",null,{"fill":"currentColor","d":"m1.027 11.993l4.235 4.25L6.68 14.83l-1.821-1.828L22.974 13v-2l-18.12.002L6.69 9.174L5.277 7.757l-4.25 4.236Z"}]}],["$","span",null,{"children":"返回"}]]}],["$","a",null,{"href":"/admin/posts/15/edit","className":"mr-4 md:mr-8 font-medium text-base text-muted-400 hover:text-primary-500 transition-colors duration-300","children":"编辑"}]]}],["$","article",null,{"className":"post_content__PPM5L dark:prose-invert prose lg:prose-xl py-6 prose-code:bg-primary-100 prose-code:text-primary-500 prose-code:font-medium","children":[["$","p",null,{"children":"MDN 的 yari 使用了 Elasticsearch 和 Kibana 来实现搜索功能。"}],"\n",["$","p",null,{"children":"Elasticsearch 是一个开源的搜索引擎，它提供了分布式、多租户、全文搜索和分析等功能。在 MDN 的 yari 中，Elasticsearch 负责存储和搜索文档内容，并提供高效的搜索结果返回。"}],"\n",["$","p",null,{"children":"Kibana 是一个可视化的数据分析和展示工具，它可以与 Elasticsearch 配合使用，通过图表、表格等形式展示 Elasticsearch 中存储的数据。在 MDN 的 yari 中，Kibana 提供了搜索结果的可视化界面。"}],"\n",["$","p",null,{"children":"具体来说，yari 的搜索功能主要包含以下几个步骤："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"收集数据：yari 会从 MDN 的数据库中获取文档内容、标签等信息，并利用 Elasticsearch API 将这些数据存储至 Elasticsearch 中。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"索引文档：在存储数据时，yari 会将文档内容分析成词条，并根据一定的算法建立索引，以便后续搜索。例如，yari 会将 HTML 标签、JavaScript 函数等词条索引到不同的字段中，并设置不同的权重和搜索规则。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"搜索查询：yari 会根据用户的查询请求，利用 Elasticsearch 提供的搜索 API 在索引中进行检索。搜索算法会根据查询语法、词条、权重等因素进行排名，以获得尽可能精确的搜索结果。当搜索结果超过某个阈值时，yari 会利用 Kibana 将结果可视化展示。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"展示结果：yari 会将搜索结果展示在搜索页面中，并提供一些筛选和排序等功能以帮助用户更准确地找到所需信息。"}],"\n"]}],"\n"]}],"\n",["$","p",null,{"children":"总的来说，yari 的搜索功能借助了 Elasticsearch 和 Kibana 提供的高效、全面的搜索和分析能力，可以为用户提供快速、准确的搜索结果。"}],"\n",["$","p",null,{"children":"我参考的资料主要有以下几个来源："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"官方文档：我阅读了 Elasticsearch 和 Kibana 的官方文档，了解了它们的基本概念、使用方法、API等内容。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"MDN yari 的代码：我分析了 MDN yari 的源代码，特别是搜索模块的代码，了解了它们是如何使用 Elasticsearch 和 Kibana 实现搜索功能的。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"技术文章：我阅读了一些关于 Elasticsearch 和 Kibana 的技术文章，例如《Elasticsearch 权威指南》、《Kibana 实战》等，了解了它们的一些高级用法和最佳实践。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"互联网资料：我查找了一些互联网上的资料，例如博客文章、Stack Overflow 问答等，了解了 Elasticsearch 和 Kibana 在实际应用中的一些问题和解决方法。"}],"\n"]}],"\n"]}],"\n",["$","p",null,{"children":"MDN 的 yari 使用 ElasticSearch 实现搜索功能。具体实现如下："}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"应用中使用了 ElasticSearch 的 JavaScript API client，该客户端提供了操作 ElasticSearch 的方法。"}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":["在应用的服务端代码中，先定义了一个 ElasticSearch 的客户端实例，然后定义了一个搜索函数，在该函数中使用客户端的 ",["$","code",null,{"children":"search()"}]," 方法来实现搜索操作。",["$","code",null,{"children":"search()"}]," 方法接受一个包含查询条件的 JavaScript 对象作为参数，返回一个 Promise，该 Promise 解析出来的结果是一个 JSON 对象，其中包含搜索到的文档信息。"]}],"\n"]}],"\n"]}],"\n",["$","p",null,{"children":"以下是服务端代码的示例："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":[["$","div",null,{"className":"language-id","children":"js"}],["$","div",null,{"className":"code-container","children":["$","code",null,{"children":[["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"Client"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"require"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"@elastic/elasticsearch"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"client"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"new"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"Client"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"node"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"http://localhost:9200"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"async"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"function"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"search"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":")"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"return"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"await"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"client"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"search"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"index"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"mdn"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"body"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"        "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"multi_match"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"          "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"          "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"fields"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" ["}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"title^3"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"tags^2"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"summary"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"content"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"]"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"        "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"},"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"highlight"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"        "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"fields"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"          "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"content"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"        "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]}]]}]}]]}],"\n",["$","p",null,{"children":["上述代码中，我们使用了 ElasticSearch 的 ",["$","code",null,{"children":"multi_match"}]," 查询。这个查询会在多个字段中搜索指定的搜索关键字，并按照指定的权重进行计算，最终返回一个包含匹配度的分数，分数越高，表示该匹配越相关。在这里，我们赋予了标题字段 ",["$","code",null,{"children":"title"}]," 更高的权重，标签字段 ",["$","code",null,{"children":"tags"}]," 次之，其余字段的权重相同。"]}],"\n",["$","p",null,{"children":"为了让搜索结果更加人性化，我们还进行了高亮处理。在查询结果中，会将匹配到的关键字标记为带有样式的 HTML 标签，以突出显示搜索结果。"}],"\n",["$","ol",null,{"start":"3","children":["\n",["$","li",null,{"children":"在前端代码中，我们使用了 ElasticLunr.js 作为客户端搜索库，该库提供了类似 ElasticSearch 的查询能力，并支持对搜索结果进行分页、高亮等操作。"}],"\n"]}],"\n",["$","p",null,{"children":"以下是客户端代码的示例："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":[["$","div",null,{"className":"language-id","children":"js"}],["$","div",null,{"className":"code-container","children":["$","code",null,{"children":[["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"index"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"elasticlunr"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"function"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"()"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"this"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"addField"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"title"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"this"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"addField"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"tags"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"this"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"addField"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"summary"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"this"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"addField"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"content"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"async"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"function"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"loadData"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"()"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"response"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"await"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"fetch"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"/data/mdn.json"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"data"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"await"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"response"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"json"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"()"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"for"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" ("}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"item"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"of"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"data"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":") "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"index"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"addDoc"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"item"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]]}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"function"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"search"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":")"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"results"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"index"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"search"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"fields"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"title"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"boost"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#B48EAD"},"children":"3"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"},"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"tags"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"boost"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#B48EAD"},"children":"2"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"},"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"summary"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{},"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"      "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"content"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{}"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"},"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"bool"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"OR"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"expand"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"true"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"wildcard"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"elasticlunr"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"Query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"wildcard"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"LEADING"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"|"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"elasticlunr"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"Query"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"wildcard"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"TRAILING"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"return"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"results"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"map"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"result"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"=>"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" ("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"{"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"..."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"result"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"doc"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":","}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"    "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"score"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":":"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"result"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"score"}]]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"  "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"))"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"#ECEFF4"},"children":"}"}]}]]}]}]]}],"\n",["$","p",null,{"children":["上述代码中，我们在客户端中定义了一个 ElasticLunr 的索引，并为不同的字段分配了权重。这里和服务端的 ",["$","code",null,{"children":"multi_match"}]," 查询类似，区别在于 ElasticLunr 不支持在同一字段中指定不同权重，而是需要为每个字段单独指定权重。"]}],"\n",["$","p",null,{"children":["在搜索过程中，我们调用了索引实例的 ",["$","code",null,{"children":"search()"}]," 方法，并传入查询字符串和一些其他参数。其中，",["$","code",null,{"children":"fields"}]," 参数指定了每个字段的权重；",["$","code",null,{"children":"bool"}]," 参数指定了多个关键字之间的逻辑关系（是 ",["$","code",null,{"children":"AND"}]," 还是 ",["$","code",null,{"children":"OR"}],"）；",["$","code",null,{"children":"expand"}]," 参数指定了是否自动扩展查询字符串（例如将用户输入的 ",["$","code",null,{"children":"JS"}]," 扩展为 ",["$","code",null,{"children":"JavaScript"}],"）；",["$","code",null,{"children":"wildcard"}]," 参数则指定了是否允许使用通配符查询。"]}],"\n",["$","p",null,{"children":"具体实现细节可以参考以下资料："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/index.html","children":"ElasticSearch 官方文档"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"http://elasticlunr.com/docs/index.html","children":"ElasticLunr.js 官方文档"}]}],"\n"]}]]}]]}]}],["$","div",null,{"className":"w-full ptablet:w-3/4 ltablet:w-1/3 lg:w-1/4 ptablet:mx-auto","children":["$","div",null,{"className":"mt-10","children":[["$","div",null,{"children":[["$","h3",null,{"className":"font-heading text-muted-800 dark:text-white font-semibold text-xl mb-6 ","children":"分享文章"}],["$","div",null,{"className":"flex gap-4","children":["$","$Ld",null,{"options":{"title":"yari 搜索功能"}}]}]]}],["$","hr",null,{"className":"my-10 border-t border-muted-200 dark:border-muted-800"}],["$","h3",null,{"className":"font-heading text-muted-800 dark:text-white font-semibold text-xl mb-6","children":"最近文章"}],["$","ul",null,{"className":"space-y-6","children":[["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/138","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6405691/pexels-photo-6405691.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"设备管理","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVR4nGNYOHvG/2/vPjy9P2/6FAYGAX43H3drZ3sGPk4AwBwLAXMJO1wAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"设备管理","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"设备管理"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-25"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/137","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6453946/pexels-photo-6453946.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"文件管理","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AP/m1qyThAAMCsO0qQD/9Ozaw7Y/NiyYgXYA//v32MS0TyMAn39osVcVUHShxwsAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"文件管理","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"文件管理"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/107","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/4176487/pexels-photo-4176487.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"系统架构设计师备考","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AP/Hubl4dEEHFnA1NACqaHGfZnegZ3VmLjIA+6yV8aae/92+pV4/XjMS6mHKMNYAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"系统架构设计师备考","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"系统架构设计师备考"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/88","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/5824545/pexels-photo-5824545.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"Web 阅读","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nGO49fhOUWbq3///H925xeAfFxcUFrFl+eJpXc0MDCzcVtrKC9McdPkZAKbDETPpxInyAAAAAElFTkSuQmCC"}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"Web 阅读","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"Web 阅读"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/135","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6156363/pexels-photo-6156363.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"行测资料分析","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AABeYgBXXABRVgAZHgCT2NfS//+b4eEAhocA/ezatN3evf//RqqnORoUUqdLSMAAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"行测资料分析","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"行测资料分析"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}]]}]]}]}]]}]}]}]]}]
