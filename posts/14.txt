1:HL["/_next/static/css/9ea745b5ef8be27e.css",{"as":"style"}]
0:["WB-eh6r-OsB74zwuLIoP1",[[["",{"children":["(content)",{"children":["posts",{"children":[["id","14","d"],{"children":["__PAGE__?{\"id\":\"14\"}",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9ea745b5ef8be27e.css","precedence":"next"}]],["$L3",null]]]]]
4:HL["/_next/static/css/2ba16a02e4354350.css",{"as":"style"}]
5:I{"id":3772,"chunks":["185:static/chunks/app/layout-f1fd37e710dfc7f4.js"],"name":"","async":false}
6:I{"id":3211,"chunks":["272:static/chunks/webpack-8f645f1a215106c4.js","253:static/chunks/bce60fc1-69f46e850b4b2c45.js","769:static/chunks/769-1d7cbd474b9b7f2a.js"],"name":"default","async":false}
7:I{"id":5767,"chunks":["272:static/chunks/webpack-8f645f1a215106c4.js","253:static/chunks/bce60fc1-69f46e850b4b2c45.js","769:static/chunks/769-1d7cbd474b9b7f2a.js"],"name":"default","async":false}
8:I{"id":816,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","948:static/chunks/app/(content)/layout-0ca3cc09307b4c0b.js"],"name":"Nav","async":false}
2:[["$","html",null,{"children":[["$","head",null,{"children":[["$","$L5",null,{"id":"darkMode","strategy":"beforeInteractive","children":"if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n  document.documentElement.classList.add('dark')\n} else {\n  document.documentElement.classList.remove('dark')\n}"}],["$","$L5",null,{"id":"tencentShare","src":"https://qzonestyle.gtimg.cn/qzone/qzact/common/share/share.js"}]]}],["$","body",null,{"className":"bg-muted-100 transition-all duration-300 min-h-screen flex flex-col","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","div",null,{"className":"fixed inset-0 flex items-center justify-center","children":["$","div",null,{"className":"loading_container__XWcGg","children":[["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}]]}]}],"loadingStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c64ba765df0a44e2.css","precedence":"$undefined"}]],"hasLoading":true,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[[["$","$L8",null,{}],["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children"],"error":"$undefined","errorStyles":"$undefined","loading":["$","div",null,{"className":"fixed inset-0 flex items-center justify-center","children":["$","div",null,{"className":"loading_container__XWcGg","children":[["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}],["$","span",null,{"className":"loading_item__57dDH"}]]}]}],"loadingStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c64ba765df0a44e2.css","precedence":"$undefined"}]],"hasLoading":true,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","(content)","children","posts","children",["id","14","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L9",null],"segment":"__PAGE__?{\"id\":\"14\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2ba16a02e4354350.css","precedence":"next"}]]}],"segment":["id","14","d"]},"styles":[]}],"segment":"posts"},"styles":[]}]],null],"segment":"(content)"},"styles":[]}]}]]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"mysql 拾遗 | Dors.——花野猫的数字花园"}],["$","meta","2",{"name":"description","content":"花野猫的数字花园花野猫生活、工作、学习的记录和分享"}],["$","link","3",{"rel":"author","href":"https://dors.huayemao.run"}],["$","meta","4",{"name":"author","content":"花野猫"}],["$","meta","5",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","6",{"property":"og:image","content":"https://images.pexels.com/photos/7252303/pexels-photo-7252303.jpeg?auto=compress&cs=tinysrgb&h=130"}],["$","meta","7",{"name":"twitter:card","content":"summary"}],["$","meta","8",{"name":"twitter:image","content":"https://images.pexels.com/photos/7252303/pexels-photo-7252303.jpeg?auto=compress&cs=tinysrgb&h=130"}]]
9:["$","main",null,{"className":"w-full","children":"$La"}]
b:I{"id":4712,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"Image","async":false}
c:I{"id":7477,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"","async":false}
d:I{"id":706,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"","async":false}
e:I{"id":3255,"chunks":["477:static/chunks/477-44ce0fd251cc8a15.js","712:static/chunks/712-3cf1337e3fc7e44d.js","822:static/chunks/822-93b44197db2dc0d3.js","869:static/chunks/869-564696d3ab9852b7.js","154:static/chunks/app/(content)/posts/[id]/page-34c931b19c5c1b4e.js"],"name":"ShareButton","async":false}
a:["$","div",null,{"children":[["$","section",null,{"className":"w-full bg-muted-100 dark:bg-muted-900","children":["$","div",null,{"className":"w-full max-w-7xl mx-auto","children":["$","div",null,{"className":"py-14 px-4 relative","children":["$","div",null,{"className":"mt-12 w-full mx-auto grid md:grid-cols-2 gap-2","children":[["$","div",null,{"className":"bg-cover bg-center w-full mb-5 md:mb-0 ptablet:px-5 ltablet:px-4","children":["$","$Lb",null,{"className":"lg:w-[512px] lg:h-[373px] mx-auto object-cover rounded-3xl","src":"https://images.pexels.com/photos/7252303/pexels-photo-7252303.jpeg?auto=compress&cs=tinysrgb&h=650&w=940","alt":"mysql 拾遗","width":512,"height":373,"quality":80,"unoptimized":true,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAL0lEQVR4nGNgYBM3tHCydQti4pFmYJBQ/P/h/99Lzxn4pRiElLT8gxLtvELE1QwAv9IKdm+h0J4AAAAASUVORK5CYII=","placeholder":"blur"}]}],["$","div",null,{"className":"h-full flex items-center ptablet:px-4 ltablet:px-6 break-words","children":["$","div",null,{"className":"w-full max-w-lg space-x-2","children":[[["$","span",null,{"className":"inline-block font-sans text-xs py-1.5 px-3 mb-4 rounded-lg bg-primary-100 dark:bg-primary-500 text-primary-500 dark:text-white","children":"db"}]],["$","h1",null,{"className":"font-heading text-muted-800 dark:text-white font-extrabold text-3xl ltablet:text-4xl lg:text-4xl","children":"mysql 拾遗"}],["$","p",null,{"className":" font-sans text-base text-muted-500 dark:text-muted-400 max-w-md my-4","style":{"wordBreak":"break-word"},"children":"truncate 和 drop| 操作          | 描述                                                         | 是否删除数据 |..."}],["$","div",null,{"className":"flex items-center justify-start w-full relative","children":[["$","div",null,{"className":"bg-rose-50 mask flex items-center justify-center mask-blob w-12 h-12 text-[36px]","children":["$","$Lb",null,{"alt":"花野猫","src":{"src":"/_next/static/media/huayemao.ff0e6e37.svg","height":36,"width":36,"blurWidth":0,"blurHeight":0},"width":44,"height":44}]}],["$","div",null,{"className":"pl-2","children":[["$","h3",null,{"className":"   font-heading font-medium    text-muted-800   dark:text-muted-50   ","children":"花野猫"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于 2023-08-14"}]]}],["$","div",null,{"className":"block ml-auto font-sans text-sm text-muted-400","children":["$","span",null,{"children":["— ",2723," 字"]}]}]]}]]}]}]]}]}]}]}],["$","section",null,{"className":"w-full py-12 px-4 bg-white dark:bg-muted-900 overflow-hidden","children":["$","div",null,{"className":"w-full max-w-7xl mx-auto","children":["$","div",null,{"className":"w-full flex flex-col ltablet:flex-row lg:flex-row gap-y-8","children":[["$","div",null,{"className":"w-full ptablet:w-3/4 ltablet:w-2/3 lg:w-3/4 ptablet:mx-auto","children":["$","div",null,{"className":"w-full md:px-10 text-xl text-muted-800 leading-normal","children":[["$","div",null,{"className":"flex justify-between w-full mb-5","children":[["$","$Lc",null,{"href":"/","className":"flex items-center gap-2 font-sans font-medium text-base text-muted-400 hover:text-primary-500 transition-colors duration-300","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","aria-hidden":"true","role":"img","width":"1em","height":"1em","viewBox":"0 0 24 24","data-icon":"gg:arrow-long-left","className":"iconify w-5 h-5 iconify--gg","children":["$","path",null,{"fill":"currentColor","d":"m1.027 11.993l4.235 4.25L6.68 14.83l-1.821-1.828L22.974 13v-2l-18.12.002L6.69 9.174L5.277 7.757l-4.25 4.236Z"}]}],["$","span",null,{"children":"返回"}]]}],["$","a",null,{"href":"/admin/posts/14/edit","className":"mr-4 md:mr-8 font-medium text-base text-muted-400 hover:text-primary-500 transition-colors duration-300","children":"编辑"}]]}],["$","article",null,{"className":"post_content__PPM5L dark:prose-invert prose lg:prose-xl py-6 prose-code:bg-primary-100 prose-code:text-primary-500 prose-code:font-medium","children":[["$","h2",null,{"id":"truncate 和 drop","children":"truncate 和 drop"}],"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"操作"}],["$","th",null,{"children":"描述"}],["$","th",null,{"children":"是否删除数据"}],["$","th",null,{"children":"是否删除表结构"}],["$","th",null,{"children":"是否触发触发器"}],["$","th",null,{"children":"是否记录事务日志"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"TRUNCATE TABLE"}],["$","td",null,{"children":"删除表中的所有数据，但保留表的结构和定义"}],["$","td",null,{"children":"是"}],["$","td",null,{"children":"否"}],["$","td",null,{"children":"否"}],["$","td",null,{"children":"否"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"DROP TABLE"}],["$","td",null,{"children":"完全删除表，包括表的结构、定义和数据"}],["$","td",null,{"children":"是"}],["$","td",null,{"children":"是"}],["$","td",null,{"children":"是"}],["$","td",null,{"children":"是"}]]}]]}]]}],"\n",["$","$Ld",null,{"html":"<div id=\"definition\"><p></p><style scoped=\"\">@import url(\"blob:https://lumos.huayemao.run/ce05541f-7624-4ee7-8701-56e32a9317e8\")</style><div id=\"entryContent\" class=\"oald\"><div class=\"entry\" id=\"truncate\" htag=\"section\" hclass=\"entry\" sum=\"364\" hlength=\"8\" sk=\"truncate: :0\" idm_id=\"000062209\"><div class=\"top-container\"><div class=\"top-g\" id=\"truncate_topg_1\"><div class=\"webtop\"><h1 class=\"headword\" hclass=\"headword\" htag=\"h1\" id=\"truncate_h_1\">truncate</h1> <span class=\"pos\" hclass=\"pos\" htag=\"span\">verb</span><span class=\"phonetics\"> <div class=\"phons_br\" geo=\"br\" wd=\"truncate\" htag=\"div\" hclass=\"phons_br\"><span class=\"phon\">/trʌŋˈkeɪt/</span></div> <div class=\"phons_n_am\" wd=\"truncate\" geo=\"n_am\" htag=\"div\" hclass=\"phons_n_am\"><span class=\"phon\">/ˈtrʌŋkeɪt/</span></div></span><span class=\"grammar\" htag=\"span\" hclass=\"grammar\">[usually passive]</span> <span class=\"labels\" htag=\"span\" hclass=\"labels\">(formal)</span></div>                         <a class=\"responsive_display_inline_on_smartphone link-right\" href=\"#relatedentries\">jump to other results</a></div></div><ol class=\"sense_single\" htag=\"ol\"><li class=\"sense\" hclass=\"sense\" id=\"truncate_sng_1\" htag=\"li\"><span class=\"sensetop\" hclass=\"sensetop\" htag=\"span\"><span class=\"cf\" hclass=\"cf\" htag=\"span\">truncate something</span></span> <o10></o10><span class=\"def\" hclass=\"def\" htag=\"span\">to make something shorter, especially by cutting off the top or end</span><deft><chn>截短，缩短，删节（尤指掐头或去尾）</chn></deft><ul class=\"examples\" htag=\"ul\" hclass=\"examples\"><li class=\"\" htag=\"li\"><o10></o10><span class=\"x\">My article was published in truncated form.</span><xt><chn>我的文章以节录的形式发表了。</chn></xt></li><li class=\"\" htag=\"li\"><o10></o10><span class=\"x\">a truncated pyramid</span><ot><chn><other>【数】 斜截棱锥.</other></chn></ot></li><li class=\"\" htag=\"li\"><o10></o10><span class=\"x\">Further discussion was truncated by the arrival of tea.</span><ot><chn><other>因上了茶水, 深入讨论缩短了。</other></chn></ot></li></ul><div class=\"collapse\" hclass=\"collapse\" htag=\"div\"><span class=\"unbox is-active\" id=\"truncate_unbox_2\" unbox=\"wordorigin\"><span class=\"box_title\" onclick=\"toggle_active(this);\">Word Origin</span><span class=\"body\"><span class=\"p\">late 15th cent. (earlier (Middle English) as <span class=\"ei\">truncation</span>): from Latin <span class=\"ei\">truncat-</span> ‘maimed’, from the verb <span class=\"ei\">truncare</span>.</span></span></span></div></li></ol></div></div>\n</div>"}],"\n",["$","h2",null,{"id":"连接时区","children":"连接时区"}],"\n",["$","p",null,{"children":"可以使用以下方式来设置 MySQL 连接时区为中国时区："}],"\n",["$","p",null,{"children":"1.在连接 MySQL 数据库时，向 MySQL 发送“SET time_zone”语句来设置会话时区。"}],"\n",["$","p",null,{"children":"示例代码如下："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":["$","div",null,{"className":"code-container","children":["$","code",null,{"children":["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"undefined"},"children":"SET time_zone = '+8:00'; -- 设置为中国时区"}]}]}]}]}],"\n",["$","p",null,{"children":"2.在 MySQL 配置文件中设置默认时区为中国时区。"}],"\n",["$","p",null,{"children":"编辑 MySQL 配置文件（一般位于 /etc/my.cnf 或者 /etc/mysql/my.cnf），添加或修改以下行："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":["$","div",null,{"className":"code-container","children":["$","code",null,{"children":[["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"undefined"},"children":"[mysqld]"}]}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"undefined"},"children":"default-time-zone = '+8:00'"}]}]]}]}]}],"\n",["$","p",null,{"children":"保存文件并重启 MySQL 服务，即可使 MySQL 默认时区设置为中国时区。"}],"\n",["$","p",null,{"children":"需要注意的是，在使用 MySQL 连接字符串连接数据库时，默认时区将与 MySQL 服务器的时区匹配。因此，如果您已经在 MySQL 配置文件中设置默认时区，连接字符串中无需再次设置时区。"}],"\n",["$","p",null,{"children":"如果您需要在连接字符串中设置 MySQL 会话时区，可以在连接字符串开头添加 “jdbc:mysql://” 或者 “mysql://” 之后，在地址和参数之间添加 “?serverTimezone=Asia/Shanghai” 参数，值为您需要的时区。"}],"\n",["$","p",null,{"children":"例如，如果您需要连接名为 mydatabase 的 MySQL 数据库，并将时区设置为中国上海时区，可以使用以下连接字符串："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":["$","div",null,{"className":"code-container","children":["$","code",null,{"children":["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"undefined"},"children":"jdbc:mysql://localhost:3306/mydatabase?serverTimezone=Asia/Shanghai"}]}]}]}]}],"\n",["$","p",null,{"children":"上述连接字符串中， localhost 为 MySQL 服务器地址，3306 为 MySQL 服务器端口，mydatabase 为要连接的数据库名，serverTimezone 参数设置为 Asia/Shanghai。"}],"\n",["$","p",null,{"children":"如果您不想在连接字符串中设置时区，可以选择在连接 MySQL 数据库后，使用 “SET time_zone” 语句来设置当前会话时区。"}],"\n",["$","p",null,{"children":["使用 ",["$","code",null,{"children":"toLocaleString()"}]," 得到的时间，是根据客户端机器本地时区来格式化输出的。假设，您的服务器和数据库都设置的是 ",["$","code",null,{"children":"Asia/Shanghai"}]," 时区，但是您的客户端机器所在的时区为 UTC+8，则 ",["$","code",null,{"children":"toLocaleString()"}]," 得到的时间就会快 8 个小时。"]}],"\n",["$","p",null,{"children":"为了解决这个问题，您可以通过以下两种方式："}],"\n",["$","p",null,{"children":"1.在控制台中设置客户端机器的本地时区"}],"\n",["$","p",null,{"children":"您可以在浏览器控制台中设置客户端机器的本地时区，来获得正确的输出结果。例如，在控制台中执行以下代码："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":["$","div",null,{"className":"code-container","children":["$","code",null,{"children":["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"undefined"},"children":"Intl.DateTimeFormat().resolvedOptions().timeZone = \"Asia/Shanghai\""}]}]}]}]}],"\n",["$","p",null,{"children":["这将设置客户端机器的本地时区为 ",["$","code",null,{"children":"Asia/Shanghai"}],"，但这种方法并不是很实用，因为大多数用户不知道该如何在控制台中执行这些代码。"]}],"\n",["$","p",null,{"children":"2.在服务端返回正确的时区时间"}],"\n",["$","p",null,{"children":"另一种方法是，在服务端将时间转换为客户端机器所在时区的时间。您可以使用 Moment.js 等工具库，在服务端将时间按照客户端机器本地时区进行转换。例如，您可以使用以下代码将数据库中存储的时间转换为客户端机器本地时区的时间："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":[["$","div",null,{"className":"language-id","children":"javascript"}],["$","div",null,{"className":"code-container","children":["$","code",null,{"children":[["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"moment"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"require"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"moment-timezone"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"#616E88"},"children":"// 将数据库中的时间按照 'Asia/Shanghai' 时区转换为客户端本地时区的时间"}]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"const"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"localTime"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" "}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"moment"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"utc"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"databaseTime"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"tz"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"Asia/Shanghai"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"format"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"()"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}],["$","div",null,{"className":"line"}],["$","div",null,{"className":"line","children":["$","span",null,{"style":{"color":"#616E88"},"children":"// 将转换后的本地时间返回给客户端"}]}],["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#D8DEE9"},"children":"res"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"."}],["$","span",null,{"style":{"color":"#88C0D0"},"children":"send"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":"("}],["$","span",null,{"style":{"color":"#D8DEE9"},"children":"localTime"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":")"}],["$","span",null,{"style":{"color":"#81A1C1"},"children":";"}]]}]]}]}]]}],"\n",["$","p",null,{"children":["在上面的代码中，我们使用 Moment.js 库的 ",["$","code",null,{"children":"tz()"}]," 方法将数据库中的时间转换为 ",["$","code",null,{"children":"Asia/Shanghai"}]," 时区的时间，并使用 ",["$","code",null,{"children":"format()"}]," 方法将时间按照 ISO 8601 格式输出。然后，将转换后的本地时间返回给客户端。在客户端使用 ",["$","code",null,{"children":"toLocaleString()"}]," 方法输出当前本地时间时，就可以得到正确的结果了。"]}],"\n",["$","p",null,{"children":"希望这可以帮助您解决时间格式化的问题。"}],"\n",["$","p",null,{"children":"如果您已经将 MySQL 的时区设置为 UTC+0，并且插入时间数据时也是按照 UTC+0 的时间插入的，那么如果您要将这些时间数据统一修改为 UTC+8 时区的时间，可以执行以下 SQL 语句："}],"\n",["$","pre",null,{"className":"shiki nord","style":{"backgroundColor":"#2e3440ff","color":"#d8dee9ff"},"children":[["$","div",null,{"className":"language-id","children":"sql"}],["$","div",null,{"className":"code-container","children":["$","code",null,{"children":["$","div",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#81A1C1"},"children":"UPDATE"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" your_table "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"SET"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" your_datetime_column "}],["$","span",null,{"style":{"color":"#81A1C1"},"children":"="}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":" CONVERT_TZ(your_datetime_column, "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"+00:00"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":", "}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#A3BE8C"},"children":"+08:00"}],["$","span",null,{"style":{"color":"#ECEFF4"},"children":"'"}],["$","span",null,{"style":{"color":"#D8DEE9FF"},"children":");"}]]}]}]}]]}],"\n",["$","p",null,{"children":["其中，",["$","code",null,{"children":"your_table"}]," 是您的表名，",["$","code",null,{"children":"your_datetime_column"}]," 是存储时间数据的列名。"]}],"\n",["$","p",null,{"children":["上述 SQL 语句使用 MySQL 内置函数 ",["$","code",null,{"children":"CONVERT_TZ()"}]," 将原来存储在 UTC+0 时区的时间转换为 UTC+8 时区的时间，然后将转换后的时间更新回数据库中。"]}],"\n",["$","p",null,{"children":"注意，执行上述 SQL 语句将会修改您表中所有的时间数据，因此请确保您已经做好了备份，并且谨慎操作。"}]]}]]}]}],["$","div",null,{"className":"w-full ptablet:w-3/4 ltablet:w-1/3 lg:w-1/4 ptablet:mx-auto","children":["$","div",null,{"className":"mt-10","children":[["$","div",null,{"children":[["$","h3",null,{"className":"font-heading text-muted-800 dark:text-white font-semibold text-xl mb-6 ","children":"分享文章"}],["$","div",null,{"className":"flex gap-4","children":["$","$Le",null,{"options":{"title":"mysql 拾遗"}}]}]]}],["$","hr",null,{"className":"my-10 border-t border-muted-200 dark:border-muted-800"}],["$","h3",null,{"className":"font-heading text-muted-800 dark:text-white font-semibold text-xl mb-6","children":"最近文章"}],["$","ul",null,{"className":"space-y-6","children":[["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/138","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6405691/pexels-photo-6405691.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"设备管理","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVR4nGNYOHvG/2/vPjy9P2/6FAYGAX43H3drZ3sGPk4AwBwLAXMJO1wAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"设备管理","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"设备管理"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-25"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/137","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6453946/pexels-photo-6453946.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"文件管理","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AP/m1qyThAAMCsO0qQD/9Ozaw7Y/NiyYgXYA//v32MS0TyMAn39osVcVUHShxwsAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"文件管理","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"文件管理"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/107","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/4176487/pexels-photo-4176487.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"系统架构设计师备考","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AP/Hubl4dEEHFnA1NACqaHGfZnegZ3VmLjIA+6yV8aae/92+pV4/XjMS6mHKMNYAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"系统架构设计师备考","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"系统架构设计师备考"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/88","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/5824545/pexels-photo-5824545.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"Web 阅读","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nGO49fhOUWbq3///H925xeAfFxcUFrFl+eJpXc0MDCzcVtrKC9McdPkZAKbDETPpxInyAAAAAElFTkSuQmCC"}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"Web 阅读","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"Web 阅读"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}],["$","li",null,{"style":{"listStyle":"none"},"className":"","children":["$","$Lc",null,{"href":"/posts/135","className":"flex items-center","children":["$","div",null,{"className":"relative flex justify-start gap-2 w-full","children":[["$","$Lb",null,{"unoptimized":true,"className":"h-12 w-12 mask mask-blob object-cover","src":"https://images.pexels.com/photos/6156363/pexels-photo-6156363.jpeg?auto=compress&cs=tinysrgb&h=130","alt":"行测资料分析","width":"48","height":"48","quality":60,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR4nAEnANj/AABeYgBXXABRVgAZHgCT2NfS//+b4eEAhocA/ezatN3evf//RqqnORoUUqdLSMAAAAAASUVORK5CYII="}],["$","div",null,{"className":"truncate","children":[["$","h3",null,{"title":"行测资料分析","className":"truncate font-heading font-medium text-muted-800 dark:text-muted-50 leading-snug overflow-hidden text-ellipsis max-w-3/4 line-clamp-2 mb-1","children":"行测资料分析"}],["$","p",null,{"className":"font-sans text-sm text-muted-400","children":"更新于2023-10-24"}]]}]]}]}]}]]}]]}]}]]}]}]}]]}]
